<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>String to CSV Converter</title>
    <link rel="stylesheet" href="styles.css" />
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
  </head>
  <body>
    <div class="container">
      <button id="close-btn" class="close-button" title="Close (Esc)">&times;</button>
      <h1>String to CSV Converter</h1>
      <div id="error-message" class="error-message hidden"></div>

      <div class="settings-section">
        <h2>Settings</h2>
        <div class="form-grid">
          <div class="form-group inline-check theme-switcher">
            <label class="switch">
              <input type="checkbox" id="darkModeToggle" />
              <span class="slider round"></span>
            </label>
            <i class="fas fa-sun theme-icon light-mode-icon"></i>
            <i class="fas fa-moon theme-icon dark-mode-icon"></i>
            <label for="darkModeToggle" class="inline-label">Dark Mode</label>
          </div>
          <div class="form-group inline-check">
            <input type="checkbox" id="trimLines" name="trimLines" checked />
            <label for="trimLines">Trim whitespace</label>
          </div>
        </div>
      </div>
      <div class="form-group">
        <div class="input-wrapper">
          <i class="fas fa-keyboard input-icon"></i>
          <label for="input">Input String</label>
          <!-- Keep label for accessibility -->
          <textarea id="input" name="input" rows="8" cols="30"></textarea>
        </div>
        <div id="input-counter" class="input-meta">Chars: 0, Lines: 0</div>
      </div>
      <div class="form-grid">
        <div class="form-group">
          <div class="input-wrapper">
            <span id="separator-display-icon" class="input-icon"></span>
            <label for="seperator">Separator</label>
            <!-- Keep label for accessibility -->
            <select name="Seperator" id="seperator">
              <option value="newline">New Line</option>
              <option value="comma">Comma</option>
              <option value="space">Space</option>
              <option value="custom">Custom...</option>
            </select>
          </div>
        </div>
        <div class="form-group">
          <div class="input-wrapper">
            <span id="quote-type-display-icon" class="input-icon"></span>
            <label for="quoteType">Quote Type</label>
            <!-- Keep label for accessibility -->
            <select name="quoteType" id="quoteType">
              <option value="single">Single Quotes ('')</option>
              <option value="double">Double Quotes ("")</option>
            </select>
          </div>
        </div>
      </div>

      <div class="form-group hidden" id="custom-separator-group">
        <div class="input-wrapper">
          <i class="fas fa-i-cursor input-icon"></i>
          <!-- Keep Font Awesome for custom input -->
          <label for="custom-separator-input">Custom Separator</label>
          <input type="text" id="custom-separator-input" maxlength="5" placeholder="e.g. ; or |" />
        </div>
      </div>

      <div class="form-group">
        <div class="input-wrapper">
          <i class="fas fa-file-csv input-icon"></i>
          <label for="output">CSV Output</label>
          <!-- Keep label for accessibility -->
          <textarea id="output" name="output" rows="8" cols="30" readonly></textarea>
        </div>
      </div>

      <div class="actions">
        <button id="copy">Copy</button>
        <button id="clear" class="secondary">Clear</button>
      </div>
    </div>
    <div id="loader" class="hidden">
      <div class="loader-overlay"><div class="loader-spinner"></div></div>
    </div>
  </body>
  <script src="./scripts.js"></script>
</html>
