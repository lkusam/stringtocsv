<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>String to CSV Converter</title>
    <link rel="stylesheet" href="styles.css" />
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
  </head>
  <body>
    <div class="container">
      <div class="resize-handle" id="resize-handle" title="Drag to resize"></div>
      <button id="close-btn" class="close-button" title="Close (Esc)">&times;</button>
      <div class="header-container">
        <button id="settings-btn" class="settings-button" title="Settings"><i class="fas fa-cog"></i></button>
        <h1>String to CSV Converter</h1>
      </div>
      <div id="error-message" class="error-message hidden"></div>

      <div id="settings-section" class="settings-section hidden">
        <button id="close-settings-btn" class="close-button-right" title="Close Settings">&times;</button>
        <h2>Settings</h2>
        <div class="settings-layout">
          <div class="settings-row">
            <div class="form-group inline-check theme-switcher">
              <label class="switch">
                <input type="checkbox" id="darkModeToggle" />
                <span class="slider round"></span>
              </label>
              <i class="fas fa-sun theme-icon light-mode-icon"></i>
              <i class="fas fa-moon theme-icon dark-mode-icon"></i>
              <label for="darkModeToggle" class="inline-label">Dark Mode</label>
            </div>
            <div class="form-group inline-check">
              <input type="checkbox" id="trimLines" name="trimLines" checked />
              <label for="trimLines">Trim whitespace</label>
            </div>
          </div>
          <div class="form-group theme-row">
            <div class="input-wrapper theme-selector">
              <label for="themeSelect">Theme</label>
              <select id="themeSelect" name="themeSelect">
                <option value="classic">Classic</option>
                <option value="material">Material UI</option>
              </select>
            </div>
          </div>
        </div>
      </div>
      <div class="form-group">
        <div class="input-wrapper">
          <i class="fas fa-keyboard input-icon"></i>
          <label for="input">Input String</label>
          <!-- Keep label for accessibility -->
          <textarea id="input" name="input" rows="8" cols="30"></textarea>
        </div>
        <div id="input-counter" class="input-meta">Chars: 0, Lines: 0</div>
      </div>

      <div class="collapsible-section" id="conversion-options-section">
        <div class="collapsible-header" id="conversion-options-header">
          <span>Conversion Options</span>
          <i class="fas fa-chevron-down"></i>
        </div>
        <div class="collapsible-content hidden">
          <div class="form-grid">
            <div class="form-group">
              <div class="input-wrapper">
                <span id="separator-display-icon" class="input-icon"></span>
                <label for="seperator">Separator</label>
                <select name="Seperator" id="seperator">
                  <option value="newline">New Line</option>
                  <option value="comma">Comma</option>
                  <option value="space">Space</option>
                  <option value="custom">Custom...</option>
                </select>
              </div>
            </div>
            <div class="form-group">
              <div class="input-wrapper">
                <span id="quote-type-display-icon" class="input-icon"></span>
                <label for="quoteType">Quote Type</label>
                <select name="quoteType" id="quoteType">
                  <option value="single">Single Quotes ('')</option>
                  <option value="double">Double Quotes ("")</option>
                </select>
              </div>
            </div>
          </div>
          <div class="form-group hidden" id="custom-separator-group">
            <div class="input-wrapper">
              <i class="fas fa-i-cursor input-icon"></i>
              <label for="custom-separator-input">Custom Separator</label>
              <input type="text" id="custom-separator-input" maxlength="5" placeholder="e.g. ; or |" />
            </div>
          </div>
        </div>
      </div>

      <div class="form-group">
        <div class="output-header">
          <label for="output">CSV Output</label>
          <div class="actions">
            <button id="copy">Copy</button>
            <button id="clear" class="secondary">Clear</button>
          </div>
        </div>
        <div class="input-wrapper">
          <i class="fas fa-file-csv input-icon"></i>
          <textarea id="output" name="output" rows="8" cols="30" readonly></textarea>
        </div>
      </div>
    </div>
    <div id="loader" class="hidden">
      <div class="loader-overlay"><div class="loader-spinner"></div></div>
    </div>
  </body>
  <script src="./scripts.js"></script>
</html>
